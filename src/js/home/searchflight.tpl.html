
<div class="col-md-12 container">
      <ng-include src="'js/templates/top.nav.tpl.html'"></ng-include>
      <div class="panel panel-primary col-md-12" >
          <h4> Search a Flight</h4>
          <form name="searchForm" ng-submit="$ctrl.searchFlight()" novalidate>
            <div class="panel-body" style="text-align: left">
                <div class="col-md-12">
                    <div class="form-group">
                        <div class="col-md-2">
                           <label>From:</label>
                            <input name="originPlace" type="text" class="form-control" required
                                ng-model="$ctrl.originPlace" placeholder="Origin Place">
                              <p ng-show="searchForm.originPlace.$invalid" class="help-block">Origin Place is required.</p>
                        </div>
                        <div class="col-md-2">
                            <label>To:</label>
                            <input name="destinationPlace" type="text" class="form-control" required
                                ng-model="$ctrl.destinationPlace" placeholder="Destination Place">
                                <p ng-show="searchForm.destinationPlace.$invalid" class="help-block">Destination Place is required.</p>
                        </div>
                        <div class="col-md-2">
                            <label>Country:</label>
                            <select name="country" class="form-control" required
                                    ng-model="$ctrl.country"
                                    ng-options="country.value as country.name for country in ::$ctrl.countries">
                                    <p ng-show="searchForm.country.$error.required">Country is required</p>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label>Departure:</label>
                            <input name="outboundPartialDate" type="date" class="form-control" required
                                    ng-model="$ctrl.outboundPartialDate">
                              <p ng-show="searchForm.outboundPartialDate.$invalid" class="help-block">Departure Date is required.</p>
                        </div>
                        <div class="col-md-2">
                            <label>Return:</label>
                            <input name="inboundPartialDate" type="date" class="form-control" required
                                        ng-model="$ctrl.inboundPartialDate">
                              <p ng-show="searchForm.inboundPartialDate.$invalid" class="help-block">Return Date is required.</p>
                        </div>

                      </div>
                      <div class="col-md-2" >
                          <button class="btn btn-success"  ng-disabled="searchForm.$invalid" ng-click="travelCtrl.searchFlight()">
                           <span class="glyphicon glyphicon-search">Search Flight</span></button>
                      </div>

                            <!-- <div class="form-group">
                              <div class="col-md-4">
                                  <label>Adults:</label>
                                  <select class="selectpicker form-control" ng-model="travelCtrl.adults"
                                          title="Choose one of the following...">
                                    <option ng-repeat="n in travelCtrl.range(1,8)">{{n}}</option>
                                  </select>

                              </div>
                              <div class="col-md-4">
                                  <label>Children:</label>
                                 <select class="selectpicker form-control" ng-model="travelCtrl.children"
                                          title="Choose one of the following...">
                                    <option ng-repeat="n in travelCtrl.range(0,8)">{{n}}</option>
                                  </select>
                              </div>
                              <div class="col-md-4">
                                  <label>Infants:</label>
                                  <select class="selectpicker form-control" ng-model="travelCtrl.infants"
                                          title="Choose one of the following...">
                                   <option ng-repeat="n in travelCtrl.range(0,8)">{{n}}</option>
                                  </select>

                              </div>
                              <div class="col-md-4">
                                  <label>Cabin:</label>
                                  <select class="form-control" ng-model="travelCtrl.cabin">
                                    <option selected>Economy</option>
                                    <option>First</option>
                                    <option>Business</option>
                                  </select>
                              </div>-->

              </div>
             </div>
           </form>
      </div>
      <div class="container col-md-8" align="left">
          <div class="panel panel-primary col-md-12"  ng-show="$ctrl.resultsData.Quotes">
            <h4>Search Results</h4>
            <h5><p align=center>Origin Place: {{$ctrl.originPlace}}, DestinationPlace: {{$ctrl.destinationPlace}},
                Outbound date: {{$ctrl.outboundPartialDate | date: "MMMM-dd-y"}}, Inbound date: {{$ctrl.inboundPartialDate | date: "MMMM-dd-y"}} </p>
             <!-- Adults: {{travelCtrl.adults}}, Children: {{travelCtrl.children}}, Infants: {{travelCtrl.infants}}, Cabin:{{travelCtrl.cabin}}</p>  </h5>     -->
            <div class="panel-body" style="text-align: left">
                <div class="table-responsive">
                  <table class="table">
                    <thead>
                      <tr>
                        <th>QuoteId</th>
                        <th>Min-Price</th>
                        <th>Outbound Leg</th>
                        <th>Inbound Leg</th>
                        <th>Quote Date Time</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="Quote in $ctrl.resultsData.Quotes" ng-click="$ctrl.showDetails(Quote)">
                          <td>{{Quote.QuoteId}}</td>
                          <td>${{Quote.MinPrice}}</td>
                          <td>
                            <table class="table">
                                <tbody>
                                    <tr>
                                      <td>
                                        Departure Date : {{Quote.OutboundLeg.DepartureDate}}
                                      </td>
                                    </tr>
                                    <tr>
                                      <td>
                                        Carrier Name : {{$ctrl.getCarrierName(Quote.OutboundLeg.CarrierIds["0"])}}
                                      </td>
                                    </tr>
                                </tbody>
                            </table>
                          </td>
                          <td>
                            <table class="table">
                                <tbody>
                                    <tr>
                                      <td>
                                        Departure Date : {{Quote.InboundLeg.DepartureDate}}
                                      </td>
                                    </tr>
                                    <tr>
                                      <td>
                                        Carrier Name : {{$ctrl.getCarrierName(Quote.InboundLeg.CarrierIds["0"])}}
                                      </td>
                                    </tr>
                                </tbody>
                            </table>
                          </td>
                          <td>{{Quote.QuoteDateTime}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
          </div>
      </div>
</div>
